<!DOCTYPE HTML>
<html ng-app="cbrdataapp">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/cbrdata.css">
    <title>{{ page.title }}</title>
  </head>
  <body  ng-controller="cbrDataController as cbrdataCtrl" ng-cloak>
    <section>
      <cbrnavbar></cbrnavbar>
    </section>
    <section id="cbrHome" ng-show="cbrdataCtrl.isSelected(1)">
      <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">About This Site</div>
            <div class="panel-body">
              <p>This website is a work in progress, and is to allow people to view the data that is being generated from the Civ Battle Royale. For a look at the the community that has inspired this site, you can follow the link to the Reddit site, <a href="https://www.reddit.com/r/civbattleroyale/">Civ Battle Royale</a>.</p>
              <p>The Charts: At this stage, you can only select one stat and civilisation at a time. My aim is to expand this to select multiple civilisations at one time, and also to select multiple stats as well.</p>
              <p>The Data Table: Once you click the button "Display Table", the site will load the data from the server and process into a table. As this is a very large file, and is growing with each part it will take a while to load and display. Please be patient.</p>
              <p></p>
              <p>Any feedback you wish to give about what has been done, or any suggestions or improvements, please message me on reddit. My username is <a href="https://www.reddit.com/message/compose/">Be1eriand</a>. One of my other aims is to let you download the CSV to your computer is you so wish, along with being able to process the InfoAddict data into a form that can be handled by this site and spreadsheets.</p>
            </div>
      </div>
    </section>
    <section id="cbrTable" ng-show="cbrdataCtrl.isSelected(3)">
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">The Civ Battle Royale Data</div>
            <div class="panel-body">
              <p>Please note that once you load the Table so that it is displayed, it will slow down the browser when flicking from panel to panel. I hope to resolve this by displaying only what is needed. My advice is to refresh the page once you have had a look at the table.</p>
            </div>
            <button type="button" class="btn btn-primary" ng-click="cbrdataCtrl.CreateTable()">Display Table</button>
            <div class="table-responsive" id="table"></div>
        </div>
    </section>
    <section id="cbrChart" ng-show="cbrdataCtrl.isSelected(2)">
            <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">The Charts</div>
            <div class="panel-body">
              <p>The charts currently display the info addict data up to Turn 323. I have not received any further updates for turns 324 - 341. I'm sure at some point it will get updated, and be provided your enjoyment.</p>
            </div>
      </div>
      <form name="cbrStatSelect">
          <label for="StatSelect"> Stat: </label>
          <select name="StatSelect" id="StatSelect" ng-model="selectedStat" ng-change="cbrdataCtrl.CreateChart('Turn',selectedStat,selectedCiv)">
            <option ng-repeat='stat in stats'" value="//stat//">// stat //</option>
          </select>
              <label for="CivSelect"> Civilisation: </label>
          <select name="CivSelect" id="CivSelect" ng-model="selectedCiv" ng-change="cbrdataCtrl.CreateChart('Turn',selectedStat,selectedCiv)">
            <option ng-repeat="civ in civilisations" value="// civ //">// civ //</option>
          </select>
      </form>
      <chart>
        
      </chart>
    </section>

    <section id="cbrImport" ng-show="cbrdataCtrl.isSelected(4)" ng-controller="cbrImportController as cbrImport">
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">Importing and Parsing InfoAddict Data</div>
            <div class="panel-body">
              <p>At this Stage, I have hard-coded the urls for the InfoAddict to a test version of Info Addict Data that I have generated from a AI civ Game that I had run.
              Once, I have worked out to manually select local files to process, and to fix up the issue of saving files through Internet Explorer, I will leave the site as a demonstration.</p>
              <p>Note: If you are using Internet Explorer, it will download the file as a big long number to your save directory. To load the file in to whatever spreadsheet program you wish change the name of the file to filename.csv.
              It seems to work fine in Chrome, and will save as a nice filename that you choose.</p>
            </div>
            <div id="cbrImportCivFile">
                <form id="cbrCivForm">
                    <!-- <input type="file" id="importCivFile" size="50" ng-model="CivFile" required> -->
                    <span class="sr-only"></span>
                    <button type="button" class="btn btn-primary" ng-click="cbrImport.ImportCivilisation('data/InfoAddictLog.csv')">Import Civilisations</button>
                </form>
            </div>
            <div id="cbrImportDataFile" ng-show="cbrImport.CanShowImportDataButton()">
                <form id="cbrDataForm">
                   <!-- <input type="file" id="importDataFile" size="50" ng-model="DataFile" required> -->
                    <span class="sr-only"></span>
                    <button type="button" class="btn btn-primary" ng-click="cbrImport.ImportInfoAddictData('data/InfoAddictHistoricalData.csv')">Import InfoAddict Data</button>
                </form>
            </div>
            <div id="cbrSaveDataFile" ng-show="cbrImport.CanShowSaveButton()">
                <span class="sr-only"></span>
                <button type="button" class="btn btn-primary" ng-click="cbrImport.SaveInfoAddictData('InfoAddictData.csv')">Save File as CSV</button>
                <a hidden="" id="savelink" download="InfoAddictData.csv"></a>
            </div>
        </div>
    </section>

    <section id="cbrSneakPeek" ng-show="cbrdataCtrl.isSelected(5)">
        <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading">A sneak peek at the Battle Royale Big Data Mod</div>
            <div class="panel-body">
              <p>Below you will see images of the Battle Royal Big Data Mod that I have been working on. The aim of the mod is to provide a massive amount of data from the game without having crash the game. One of the reasons that Info Addict crashes the game when you access the pop-up window is due to the massive amount of data that InfoAddict stores in memory.
              With this mod, the data is not stored in memory and written, at this point, directly to the sqlite database. And as you can see, there is a massive amount of data, extra data, about the game.</p>
            </div>
        </div>
        <div class="media">
            <div class="media-left popup">
              <a href="../images/sneakpeak0002.PNG" target="_blank">
                <img src="../images/sneakpeak0002.PNG" class="img-responsive" alt="Responsive image">
              </a>
            </div>
            <div class="media-left popup">
              <a href="../images/sneakpeak0005.PNG" target="_blank">
                <img src="../images/sneakpeak0005.PNG" class="img-responsive" alt="Responsive image">
              </a>
            </div>
            <div class="media-left popup">
              <a href="../images/sneakpeak0001.PNG" target="_blank">
                <img src="../images/sneakpeak0001.PNG" class="img-responsive" alt="Responsive image">
              </a>
            </div>
            <div class="media-left popup">
              <a href="../images/sneakpeak0003.PNG" target="_blank">
                <img src="../images/sneakpeak0003.PNG" class="img-responsive" alt="Responsive image">
              </a>
            </div>
            <div class="media-left">
              <div class="popup">
              <a href="../images/sneakpeak0004.PNG" target="_blank">
                <img src="../images/sneakpeak0004.PNG" class="img-responsive" alt="Responsive image">
              </a>
              </div>
            </div>
    </section>
    <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.22/angular.min.js"></script>
    <script src="../javascripts/d3.min.js"></script>
    <script src="../javascripts/app.js"></script>
    <script src="../javascripts/cbrData.js"></script>
    <!-- <script src="../javascripts/cbrNav.js"></script> -->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
        try {
            var pageTracker = _gat._getTracker("UA-72768367-1");
            pageTracker._trackPageview();
        } catch(err) {}
    </script>
</body>
</html>